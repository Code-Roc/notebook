<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link rel="stylesheet" href="assets/css/style.css?20170509">
    <title>notebook by zjuchenyuan</title>
  </head>

  <body>

    <header>
      <div class="container">
        <h1>notebook</h1>
        <h2>我的技术笔记本~</h2>

        <section id="downloads">
          
          <a href="https://github.com/zjuchenyuan/notebook/blob/master/CDN.md" class="btn btn-github"><span class="icon"></span>Star me on GitHub (33)</a>&nbsp;<a href="https://py3.io" class="btn btn-back"><span class="icon"></span>Back to Index</a>
        </section>
      </div>
    </header>

    <div class="container">
      <section id="main_content">
        <h1 id="upyun">UPYUN</h1>

<h2 id="ftp">FTP</h2>

<p>人家支持用ftp传输文件，而且用ftp似乎不对流量计费</p>

<p>ftp://v0.ftp.upyun.com</p>

<p>用户名是”操作员名/服务名”（其中/字符是用户名的一部分）,密码为”操作员密码”</p>

<h2 id="upyunmanager">UpyunManager</h2>

<p>http://micyin.b0.upaiyun.com/manager-for-upyun/manager-for-upyun-0.0.6-win32.exe</p>

<h2 id="curlftpfs">curlftpfs</h2>

<p>在这种情境下可靠性不高，不建议使用</p>

<p>http://curlftpfs.sourceforge.net/</p>

<p>注意命令中的 ftp://用户名:密码@v0.ftp.upyun.com 其中的用户名的/符号需要改为%2f</p>

<h2 id="python">python规则刷新</h2>

<p>本代码作为EasyLogin项目的一个例子</p>

<p><a href="https://github.com/zjuchenyuan/EasyLogin/tree/master/examples/upyun">https://github.com/zjuchenyuan/EasyLogin/tree/master/examples/upyun</a></p>

<h2 id="pythonapiurl">python调用API进行URL刷新</h2>

<p>官方文档：http://docs.upyun.com/api/purge/</p>

<p><a href="code/upyun_purge.py">我的代码upyun_purge.py</a></p>

<p>注意操作员要被授权，调用API正常的返回值就是<code class="highlighter-rouge"><span class="p">{</span><span class="err">'invalid_domain_of_url':</span><span class="w"> </span><span class="err">{</span><span class="p">}</span><span class="err">}</span></code>，不要看到invalid就以为出错了hhh</p>

<h2 id="upyunwebp">使用upyun提供的webp功能节省流量</h2>

<p>无需任何代码，只需要在原图后面加上<code class="highlighter-rouge">!/format/webp</code>即可，假设已经在使用自定义图片格式，例如<code class="highlighter-rouge">!compress</code>则变为<code class="highlighter-rouge">!compress/format/webp</code>可以进一步节省流量</p>

<p>官方说明：https://www.upyun.com/webp.html</p>

<hr />

<h1 id="qiniu">Qiniu</h1>

<h2 id="qshell">使用qshell上传文件夹</h2>

<div class="highlighter-rouge"><pre class="highlight"><code>qshell qupload [&lt;ThreadCount&gt;] &lt;LocalUploadConfig&gt;
</code></pre>
</div>

<p>需要写一个config文件，具体参见官方文档</p>

<p><a href="http://developer.qiniu.com/code/v6/tool/qshell.html">http://developer.qiniu.com/code/v6/tool/qshell.html</a></p>

<p><a href="https://github.com/qiniu/qshell/wiki/qupload">https://github.com/qiniu/qshell/wiki/qupload</a></p>

      </section>
    </div>

    
  </body>
<script src="https://py3.io/assets/instantclick.min.js"></script><script data-no-instant>InstantClick.init();</script></html>
