<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link rel="stylesheet" href="assets/css/style.css?20170509">
    <title>notebook by zjuchenyuan</title>
  </head>

  <body>

    <header>
      <div class="container">
        <h1>notebook</h1>
        <h2>我的技术笔记本~</h2>

        <section id="downloads">
          
          <a href="https://github.com/zjuchenyuan/notebook/blob/master/Java.md" class="btn btn-github"><span class="icon"></span>Star me on GitHub (48)</a>&nbsp;<a href="https://py3.io" class="btn btn-back"><span class="icon"></span>Back to Index</a>
        </section>
      </div>
    </header>

    <div class="container">
      <section id="main_content">
        <h2 id="javakeng">Java的神奇(keng)</h2>

<p>记录一下Java与C的不同点，感受Thinking in Java</p>

<h3 id="section">变量名称</h3>

<p>$就是个普通字符，可以int $a; //php表示mdzz</p>

<h3 id="main">main函数</h3>

<p>必须是public static void main(String[] args)</p>

<p>如果没有static，编译能通过但没有执行结果？// 待考证，eclipse拒绝运行</p>

<h3 id="if">if</h3>

<p>if中的东西必须是boolean类型的值，不能把int放入if中</p>

<p>if ( a = true )的坑还是存在的，允许赋值作为if条件</p>

<h3 id="section-1">%取余的结果</h3>

<p>要考虑到负数的结果啊~（和C一致）</p>

<h3 id="section-2">数组声明引用、初始化之后才能用</h3>

<p>不允许int a[5]; 只能int[] a = new int [5];</p>

<p>如果要初始化 int[] b = new int[]{1,2}; 可以简化为 int c[] = {1,2};</p>

<p>但不能出现d={1,2}; 不允许大括号这玩意用来赋值，只准用于初始化</p>

<h3 id="switch">switch</h3>

<p>boolean是不行的；String是可以的！</p>

<p>case是不能重复的（和C一致）</p>

<h3 id="section-3">==</h3>

<p>一定是比较地址，如果”haha”在代码中出现两次，他们的地址是一样的</p>

<h3 id="section-4">类型自动提升</h3>

<p>int long float double</p>

<p>最高出现哪个全部提升为哪个，都没有就全部提升为int</p>

<p>所以要这么写才能把byte<em>2：byte b = (byte)(a</em>2);</p>

<h3 id="section-5">内部类</h3>

<p>加上static后：可以不用实例化外部类就创建对象，不能访问外部类非静态的数据</p>

<p>不加static：需要先实例化外部类new OuterClass().new InnerClass()</p>

<h3 id="new">数组的new不创建对象</h3>

<p>对象数组的new是不会创建对象的</p>

<p>例如 <code class="highlighter-rouge">A[] a=new A[5];</code> 并不会创建5个A类型的对象，只是5个空引用</p>

<h2 id="section-6">异常处理中的资源释放问题</h2>

<p>From: http://stackoverflow.com/questions/8080649/do-i-have-to-close-fileoutputstream-which-is-wrapped-by-printstream</p>

<p>在Java7中引入了ARM(自动资源管理)，并不需要手动释放资源</p>

<p>以下这种把变量声明放到try后的括号里面，不对资源手动释放的写法是可以的，没有任何错误</p>

<div class="highlighter-rouge"><pre class="highlight"><code>public static void main(String args[]) throws IOException { 
    try (PrintStream ps = new PrintStream(new FileOutputStream("myfile.txt"))) {
        ps.println("This data is written to a file:");
        System.out.println("Write successfully");
    } catch (IOException e) {
        System.err.println("Error in writing to file");
        throw e;
    }
}
</code></pre>
</div>

<p>普通的try-catch是不够的，需要在finally中释放资源：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>public static void main(String args[]) throws IOException { 
    PrintStream ps = null;

    try {
        ps = new PrintStream(new FileOutputStream("myfile.txt"));
        ps.println("This data is written to a file:");
        System.out.println("Write successfully");
    } catch (IOException e) {
        System.err.println("Error in writing to file");
        throw e;
    } finally {
        if (ps != null) ps.close();
    }
}
</code></pre>
</div>

<hr />

<h2 id="jvm">JVM启动时的内存参数</h2>

<p>From: http://blog.chinaunix.net/uid-26863299-id-3559878.html</p>

<p>常见参数种类：配置堆区的（-Xms 、-Xmx、-XX:newSize、-XX:MaxnewSize、-Xmn）、配置非堆区（-XX:PermSize、-XX:MaxPermSize）。</p>

<p>堆区的：</p>

<p>1、-Xms ：表示java虚拟机堆区内存初始内存分配的大小</p>

<p>2、-Xmx： 表示java虚拟机堆区内存可被分配的最大上限，通常会将 -Xms 与 -Xmx两个参数的配置相同的值，其目的是为了能够在java垃圾回收机制清理完堆区后不需要重新分隔计算堆区的大小而浪费资源。</p>

<p>3、-XX:newSize：表示新生代初始内存的大小，应该小于 -Xms的值；</p>

<p>4、-XX:MaxnewSize：表示新生代可被分配的内存的最大上限；当然这个值应该小于 -Xmx的值；</p>

<p>5、-Xmn：对 -XX:newSize、-XX:MaxnewSize两个参数的同时配置</p>

<p>非堆区的：</p>

<p>1、-XX:PermSize：表示非堆区初始内存分配大小，名字来源于permanent size</p>

<p>2、-XX:MaxPermSize：表示对非堆区分配的内存的最大上限。</p>

<p>最大堆内存与最大非堆内存的和不能够超出操作系统的可用内存。</p>

      </section>
<br><hr><h1 id="comment">评论区</h1><div id="comment-thread"></div><div id="loading-spin"></div>
    </div>

  </body>
<script src="assets/js/instantclick.min.js" data-no-instant></script>
<link rel="stylesheet" href="assets/css/comment.css">
<script src="assets/js/comment.js" data-no-instant></script>
<script>
  marked.setOptions({
  highlight: function (code, lang) {
     return hljs.highlightAuto(code).value;
  }
  });
  function Highlighting(){
    var markdowns = document.getElementsByClassName('markdown');
    for(var i=0;i<markdowns.length;i++){
       if(markdowns[i].innerHTML) markdowns[i].innerHTML =marked(markdowns[i].innerHTML);
    }
  }
  window.addEventListener('DOMContentLoaded', Highlighting, false);
  window.addEventListener('load', Highlighting, false);
   var opt = {
       type: "github",
       user: "zjuchenyuan",
       repo: "notebook",
       no_comment: "No comments yet. Press the button and go to comment now!",
       go_to_comment: "Go to comment",
       issue_id: "1",
       btn_class: "btn",
       comments_target: "#comment-thread",
       loading_target: "#loading-spin",
       client_id: "8f7a792630aa459d0812",
       client_secret: "084b314f30dd9b10201011e265c4cb5d78c2b2e9"
   };
   getComments(opt);
</script>
<script data-no-instant>
  InstantClick.init();
</script>
</html>
